<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
        <title>glTF Renderer</title>
        <link type="text/css" rel="stylesheet" href="/index.css" />
        <script type="importmap">
            {
              "imports": {
                "lumen": "/node_modules/lumen/lib/index.js",
                "aether": "/node_modules/aether/lib/index.js",
                "gear": "/node_modules/gear/lib/index.js"
              }
            }
        </script>          
        <script type="module">
            import * as GLTF from "../js/gltf/toy.js"
            import init from "../js/initializer.js"
            init(GLTF);
        </script>
    </head>
    <body>
        <div class="menu">
            <div class="items">
                <div id="logo" title="Ghadeer's Playcloud"></div>
                <div id="controls-button" title="Controls"></div>
                <div id="about-button" title="About / Info"></div>
                <div id="monitor-button" title="Monitor"></div>
            </div>
            <div class="links">
                <div id="github" title="Fork me!"></div>
                <div id="linkedin" title="Contact me!"></div>
                <div id="mastodon" title="Follow me!"></div>
                <div id="youtube" title="Subscribe to my channel!"></div>
            </div>
        </div>
        <div class="tiles">
            <div style="width: 96.875%; height: 96.875%;">
                <canvas id="canvas" style="cursor: all-scroll; width: 100%; height: 100%;">
                    Your browser seems not to support HTML 5 Canvas!
                </canvas>
                <div id="monitor" class="hud top-right">
                    <div>
                        <table>
                            <tr><th>Model Name</th><td><span id="model-name">Model Name</span></td></tr>
                            <tr><th>Status</th><td><span id="status">Loading model ...</span></td></tr>
                            <tr><th>Camera</th><td><span id="camera">1 / 1</span></td></tr>
                            <tr><th>FPS</th><td><span id="fps-watch">0</span></td></tr>
                            <tr><th>Graphics API</th><td><span id="graphics-api">...</span></td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div id="about" class="hud">
            <div>
                <h1>glTF Renderer</h1>
                <p>
                    This is a basic model renderer that implements a small subset of glTF 2.0 
                    (a data format used to transmit and store models). You could select one of 
                    the models from the Model drop-down above. These models are fetched from this 
                    <a href="https://github.com/KhronosGroup/glTF-Sample-Models" target="_blank">Khronos repository</a>, 
                    except the three "ScalarField" models which were generated from my 
                    <a href="https://ghadeeras.github.io/pages/scalar-field.html">other toy</a>, and the "SculptTorso" one, 
                    generated from my <a href="https://ghadeeras.github.io/pages/scalar-field.html">sculpting toy</a>. 
                </p>
                <p>
                    Please bear in mind that this only implements a subset of the aforementioned data format. 
                    Currently, it only renders the basic geometrical aspects of the model, and it is not fully tested.
                    Therefore, some models might not render correctly, or they might need to be manipulated 
                    (rotated, scaled, moved ... etc.) in order to fit nicely in the canvas.
                </p>
            </div>
        </div>
        <div id="controls" class="hud">
            <div>
                <h1>The Controls / Key Mappings</h1>
                <p>The following keys change the function of mouse-dragging:</p>
                <table>
                    <tr><td width="48px"><kbd id="control-m">M</kbd></td><td>Model Movement</td></tr>
                    <tr><td><kbd id="control-r">R</kbd></td><td>Model Rotation</td></tr>
                    <tr><td><kbd id="control-s">S</kbd></td><td>Model Scaling</td></tr>
                    <tr><td><kbd id="control-z">Z</kbd></td><td>Zoom</td></tr>
                    <tr><td><kbd id="control-c">C</kbd></td><td>Color</td></tr>
                    <tr><td><kbd id="control-h">H</kbd></td><td>Shininess</td></tr>
                    <tr><td><kbd id="control-d">D</kbd></td><td>Light Direction</td></tr>
                    <tr><td><kbd id="control-l">L</kbd></td><td>Light Radius</td></tr>
                    <tr><td><kbd id="control-f">F</kbd></td><td>Fog</td></tr>
                </table>
                <p>The following keys perform the specified actions:</p>
                <table>
                    <tr><td width="48px"><kbd id="control-left">&leftarrow;</kbd></td><td>Previous model</td></tr>
                    <tr><td><kbd id="control-right">&rightarrow;</kbd></td><td>Next model</td></tr>
                    <tr><td><kbd id="control-down">&downarrow;</kbd></td><td>Previous camera</td></tr>
                    <tr><td><kbd id="control-up">&uparrow;</kbd></td><td>Next camera</td></tr>
                    <tr id="xr" style="visibility: hidden"><td><kbd id="control-xr">X</kbd></td><td>XR</td></tr>
                </table>
            </div>
        </div>
    </body>
</html>
