import { Only, IfSet, Redefine } from "../utils.js";
import { DataBuffer, SyncBuffer } from "./buffer.js";
import { Device } from "./device.js";
import { PipelineLayoutEntry } from "./pipeline.js";
import { Sampler, Texture, TextureView } from "./texture.js";
export type BindGroups<L extends BindGroupLayoutDescriptor, D extends BindGroupDescriptors<L>> = {
    [k in keyof D]: BindGroup<L>;
};
export type BindGroupDescriptors<D extends BindGroupLayoutDescriptor> = Record<string, BindGroupDescriptor<D>>;
export type BindGroupDescriptor<D extends BindGroupLayoutDescriptor> = {
    entries: BindGroupEntries<D>;
};
export type BindGroupEntries<D extends BindGroupLayoutDescriptor> = {
    [k in keyof D["entries"]]: BindGroupResource<D["entries"][k]>;
};
export type BindGroupResource<T extends BindGroupLayoutEntry> = IfSet<T, "buffer", SyncBuffer | DataBuffer> | IfSet<T, "texture", TextureView | Texture> | IfSet<T, "storageTexture", TextureView | Texture> | IfSet<T, "externalTexture", TextureView | Texture> | IfSet<T, "sampler", Sampler>;
export type BindGroupLayouts<D extends BindGroupLayoutDescriptors> = {
    [k in keyof D]: BindGroupLayout<D[k]>;
};
export type BindGroupLayoutDescriptors = Record<string, BindGroupLayoutDescriptor>;
export type BindGroupLayoutDescriptor = {
    entries: Record<string, BindGroupLayoutEntry>;
};
export type BindGroupLayoutEntry = BindGroupResourceLayout<"buffer"> | BindGroupResourceLayout<"texture"> | BindGroupResourceLayout<"storageTexture"> | BindGroupResourceLayout<"externalTexture"> | BindGroupResourceLayout<"sampler">;
export type BindGroupResourceLayout<T extends ResourceType> = Only<Required<Redefine<GPUBindGroupLayoutEntry, "visibility", (keyof typeof GPUShaderStage)[]>>, T | BindingAttributes>;
export type BindingAttributes = Exclude<keyof GPUBindGroupLayoutEntry, ResourceType>;
export type ResourceType = "buffer" | "texture" | "storageTexture" | "externalTexture" | "sampler";
export declare class BindGroupLayout<D extends BindGroupLayoutDescriptor> {
    readonly device: Device;
    readonly label: string;
    readonly descriptor: D;
    readonly wrapped: GPUBindGroupLayout;
    constructor(device: Device, label: string, descriptor: D);
    instance(label: string, descriptor: BindGroupDescriptor<D>): BindGroup<D>;
    instances<G extends BindGroupDescriptors<D>>(descriptors: G): BindGroups<D, G>;
    asEntry(group: number): PipelineLayoutEntry<D>;
}
export declare class BindGroup<D extends BindGroupLayoutDescriptor> {
    readonly label: string;
    readonly layout: BindGroupLayout<D>;
    readonly descriptor: BindGroupDescriptor<D>;
    readonly wrapped: GPUBindGroup;
    constructor(label: string, layout: BindGroupLayout<D>, descriptor: BindGroupDescriptor<D>);
}
