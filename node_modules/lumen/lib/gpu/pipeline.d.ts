import { Device } from "./device.js";
import { ShaderModule } from "./shader.js";
import * as grp from "./group.js";
export type PipelineEntries<D extends PipelineLayoutDescriptor> = {
    [k in keyof D]: D[k]["layout"] extends grp.BindGroupLayout<infer L> ? grp.BindGroup<L> : never;
};
export type PipelineLayouts<D extends PipelineLayoutDescriptors> = {
    [k in keyof D]: PipelineLayout<D[k]>;
};
export type PipelineLayoutDescriptors = Record<string, PipelineLayoutDescriptor>;
export type PipelineLayoutDescriptor = Record<string, PipelineLayoutEntry<grp.BindGroupLayoutDescriptor>>;
export type PipelineLayoutEntry<L extends grp.BindGroupLayoutDescriptor> = {
    group: number;
    layout: grp.BindGroupLayout<L>;
};
export declare class PipelineLayout<D extends PipelineLayoutDescriptor> {
    readonly device: Device;
    readonly label: string;
    readonly descriptor: D;
    readonly wrapped: GPUPipelineLayout;
    private constructor();
    computePipeline(module: ShaderModule, entryPoint: string): ComputePipeline<D>;
    addTo(pass: GPUBindingCommandsMixin, groups: Partial<PipelineEntries<D>>): void;
    static instances<D extends PipelineLayoutDescriptors>(device: Device, descriptors: D, labelPrefix?: string): PipelineLayouts<D>;
    static instance<D extends PipelineLayoutDescriptor>(device: Device, descriptor: D, label?: string): PipelineLayout<D>;
    static labelFrom<D extends PipelineLayoutDescriptor>(descriptor: D): string;
}
export declare class ComputePipeline<D extends PipelineLayoutDescriptor> {
    readonly layout: PipelineLayout<D>;
    readonly module: ShaderModule;
    readonly entryPoint: string;
    readonly wrapped: GPUComputePipeline;
    readonly descriptor: GPUComputePipelineDescriptor;
    constructor(layout: PipelineLayout<D>, module: ShaderModule, entryPoint: string);
    addTo(pass: GPUComputePassEncoder, groups?: Partial<PipelineEntries<D>>): void;
    addGroupsTo(pass: GPUBindingCommandsMixin, groups: Partial<PipelineEntries<D>>): void;
}
export declare function group<D extends grp.BindGroupLayoutDescriptor>(group: number, layout: grp.BindGroupLayout<D>): PipelineLayoutEntry<D>;
