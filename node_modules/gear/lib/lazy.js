export class Lazy {
    constructor(supplier) {
        this.supplier = supplier;
        this._value = null;
    }
    get() {
        return this._value == null
            ? this._value = this.supplier()
            : this._value;
    }
    refresh() {
        this._value = null;
    }
    asSupplier() {
        return () => this.get();
    }
}
export function lazy(constructor) {
    let lazy = new Lazy(constructor);
    return lazy.asSupplier();
}
